
-- Drop Tables

DROP TABLE tb_bd2_pergunta CASCADE CONSTRAINT;
DROP TABLE tb_bd2_categoria CASCADE CONSTRAINT;
DROP TABLE tb_bd2_funcionario CASCADE CONSTRAINT;
DROP TABLE tb_bd2_setor_empresa CASCADE CONSTRAINT;
DROP TABLE tb_bd2_setor CASCADE CONSTRAINT;
DROP TABLE tb_bd2_empresa CASCADE CONSTRAINT;


-- Script de criacao do banco


create table tb_bd2_empresa (
id_empresa integer,
ds_nome varchar(30),
ds_cnpj varchar(14),
Primary key(id_empresa));


create table tb_bd2_setor (
id_setor integer,
ds_nome_area_atuacao varchar(30),
Primary key(id_setor));


create table tb_bd2_setor_empresa(
id_setor integer,
id_empresa integer,
Foreign key (id_setor) References tb_bd2_setor (id_setor),
Foreign key (id_empresa) References tb_bd2_empresa (id_empresa));


create table tb_bd2_funcionario (
id_funcionario integer,
id_empresa integer,
id_superior_funcionario integer,
ds_nome varchar(30),
ds_cpf varchar(11),
ds_email varchar(200),
Foreign key (id_empresa) References tb_bd2_empresa (id_empresa),
Foreign key (id_superior_funcionario) References tb_bd2_funcionario (id_funcionario),
Primary key(id_funcionario));


create table tb_bd2_categoria(
id_categoria integer,
id_pertence_categoria integer,
ds_nome varchar(30),
Foreign key (id_pertence_categoria) References tb_bd2_categoria (id_categoria),
Primary key(id_empresa));


create table tb_bd2_pergunta (
id_pergunta integer,
id_funcionario integer,
id_categoria integer,
ds_tipo_pergunta varchar(30),
ds_corpo_pergunta varchar(255),
Foreign key (id_funcionario) References tb_bd2_funcionario (id_funcionario),
Foreign key (id_categoria) References tb_bd2_categoria (id_categoria),
Primary key(id_pergunta));


-- Inserts

-- Tabela Setores

INSERT
INTO tb_bd2_setor (id_setor, ds_nome_area_atuacao)
VALUES (101, 'Agronegocio');

INSERT
INTO tb_bd2_setor (id_setor, ds_nome_area_atuacao)
VALUES (102, 'Comercio');

INSERT
INTO tb_bd2_setor (id_setor, ds_nome_area_atuacao)
VALUES (103, 'Investimento');

INSERT
INTO tb_bd2_setor (id_setor, ds_nome_area_atuacao)
VALUES (104, 'Educacao');

INTO tb_bd2_setor (id_setor, ds_nome_area_atuacao)
VALUES (105, 'Exportacao');

-- Tabela Empresas

INSERT
INTO tb_bd2_empresa (id_empresa, ds_nome, ds_cnpj)
VALUES (1011, 'SilverLight','82684742000148');

INSERT
INTO tb_bd2_empresa (id_empresa, ds_nome, ds_cnpj)
VALUES (1012, 'Adobe','35186316000102');

INSERT
INTO tb_bd2_empresa (id_empresa, ds_nome, ds_cnpj)
VALUES (1013, 'MicroSystem','10170121000135');


INSERT
INTO tb_bd2_empresa (id_empresa, ds_nome, ds_cnpj)
VALUES (1014, 'MoonInc  ','04271513000198');

INSERT
INTO tb_bd2_empresa (id_empresa, ds_nome, ds_cnpj)
VALUES (1015, 'StepFoward  ','66450106000103');

-- Tabela Setor_Empresa

INSERT
INTO tb_bd2_setor_empresa (id_setor, id_empresa)
VALUES (1011,103);


INSERT
INTO tb_bd2_setor_empresa (id_setor, id_empresa)
VALUES (1012,105);


INSERT
INTO tb_bd2_setor_empresa (id_setor, id_empresa)
VALUES (1013,104);


INSERT
INTO tb_bd2_setor_empresa (id_setor, id_empresa)
VALUES (1014,103);


INSERT
INTO tb_bd2_setor_empresa (id_setor, id_empresa)
VALUES (1015,105);
